<h1 class="text-center text-2xl text-gray-900 font-medium p-2">Products Management</h1>
<section class="flex flex-row">
  <article  class="min-w-[50%]">
    <div class="flex min-h-full justify-center px-6 py-12 lg:px-8">

      <div class="mt-10 sm:mx-auto sm:w-full sm:max-w-sm fixed bg-gray-500 p-4 rounded-md bg-opacity-90">
        <form class="space-y-6 justify-center" method="POST">
          <h2 class="text-lg text-white font-medium text-center">PRODUCT FORM</h2>
          <input type="text" name="title" id="title" placeholder="product title" class="p-2 rounded-sm w-full">
          <input type="text" name="category" id="category" placeholder="product category" class="p-2 rounded-sm w-full">
          <input type="text" name="price" id="price" placeholder="product price (u$d)" class="p-2 rounded-sm w-full">
          <input type="text" name="photo" id="photo" placeholder="Url photo" class="p-2 rounded-sm w-full">
          <button type="button" id="register" class="flex w-full my-2 justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Send</button>
        </form>

      </div>
    </div>
  </article>
  <article id="products" class="flex my-[6rem] items-center flex-wrap min-w-[50%]"></article>
</section>
<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io(); 
  socket.on("products", data => { console.log(data) 
  let template = ``; 
  template = data.map(each=> 
  `<div class="w-[14rem] h-[20rem] items-center border-black rounded-md m-2 border-2 border-gray-600 border-opacity-80"> 
      <img src="${each.photo}" class="w-full h-[60%] object-cover"></img> 
      <div class="mt-2"> 
        <p class="text-center text-gray-600 font-medium">${each.title}</p> 
        <p class="text-center text-gray-600 font-medium">Price:$${each.price}</p> 
        <p class="text-center text-gray-600 font-light">stock:${each.stock}</p> 
      </div>
  </div>` ).join("")
  document.querySelector('#products').innerHTML = template
  });
  document.querySelector('#register').addEventListener("click", (event)=>{
    const title = document.querySelector('#title').value;
    const category = document.querySelector('#category').value;
    const price = document.querySelector('#price').value;
    const photo = document.querySelector('#photo').value;
    socket.emit("register", {title,category,price,photo})
    
  })
</script>